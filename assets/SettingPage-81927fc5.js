import{x,l as b,w as P,O as e,F as s,a2 as m,Y as i,I as D,G as C,r as f,S as T,a3 as O,a4 as j}from"./index-cf7101b0.js";import{A as I,c as _,d as A,V as R,e as N,u as W,a as $,b as q,B as w}from"./useWordStore-26339ba1.js";const z="_wrapper_8wr00_1",M="_relativeBox_8wr00_1",Y="_tips_8wr00_11",G="_displayButton_8wr00_29",g={wrapper:z,relativeBox:M,tips:Y,displayButton:G},J=x({emits:["updateAdj"],props:{tempConfig:{type:Object,required:!0}},setup:(r,d)=>{const{pos:a,adj:t}=r.tempConfig,v=b(()=>t.i||t.na),o=b(()=>A.filter(p=>t[p]===!0).length>0),F=b(()=>v.value&&o.value);return P(F,n=>{d.emit("updateAdj",n)}),()=>e("div",{class:g.wrapper},[e("h3",null,[s(e("input",{type:"checkbox","onUpdate:modelValue":n=>a.adj=n},null),[[m,a.adj]]),i("形容词")]),a.adj?e(D,null,[e("div",{class:g.relativeBox},[s(e("h4",null,[i("*你至少需要选择一个类别")]),[[C,!v.value]]),e("ul",null,[I.map(n=>e("li",null,[s(e("input",{type:"checkbox","onUpdate:modelValue":p=>t[n]=p},null),[[m,t[n]]]),e("span",null,[_[n]])]))])]),e("div",{class:g.relativeBox},[s(e("h4",null,[i("*你至少需要选择一个类别")]),[[C,!o.value]]),e("ul",null,[A.map(n=>e("li",null,[s(e("input",{type:"checkbox","onUpdate:modelValue":p=>t[n]=p},null),[[m,t[n]]]),e("span",null,[_[n]])]))])])]):null])}}),X=x({emits:["updateVerb"],props:{tempConfig:{type:Object,required:!0}},setup:(r,d)=>{const{pos:a,verb:t}=r.tempConfig,v=f(),o=f(!1),F=f(),n=f(!1),p=b(()=>t.v5||t.v1||t.suru||t.kuru),h=b(()=>N.filter(u=>t[u]===!0).length>0),E=b(()=>p.value&&h.value);P(E,l=>{d.emit("updateVerb",l)});const B=(l,u,V)=>{l.preventDefault(),u.value.classList.contains("display")?(u.value.classList.remove("display"),V.value=!1):(u.value.classList.add("display"),V.value=!0)};return()=>e("div",{class:g.wrapper},[e("h3",null,[s(e("input",{type:"checkbox","onUpdate:modelValue":l=>a.verb=l},null),[[m,a.verb]]),i("动词")]),a.verb?e("div",{class:g.relativeBox},[e("div",{class:g.relativeBox},[s(e("h4",null,[i("*你至少需要选择一个类别")]),[[C,!p.value]]),e("ul",null,[R.map(l=>e("li",null,[s(e("input",{type:"checkbox","onUpdate:modelValue":u=>t[l]=u},null),[[m,t[l]]]),e("span",null,[_[l]])]))])]),e("div",{class:g.relativeBox},[s(e("h4",null,[i("*你至少需要选择一个类别")]),[[C,!h.value]]),e("ul",null,[N.map(l=>l==="verbPoliteForm"?e("li",null,[s(e("input",{type:"checkbox","onUpdate:modelValue":u=>t[l]=u},null),[[m,t[l]]]),e("span",null,[_[l]]),e("button",{class:g.displayButton,onClick:u=>{B(u,v,o)},ref:v},["<"]),s(e("ul",null,[["verbPolitePastForm","verbPoliteNegativeForm","verbPolitePastNegativeForm"].map(u=>e("li",null,[s(e("input",{type:"checkbox","onUpdate:modelValue":V=>t[u]=V},null),[[m,t[u]]]),e("span",null,[_[u]])]))]),[[C,o.value]])]):l==="verbSimpleNegativeForm"?e("li",null,[s(e("input",{type:"checkbox","onUpdate:modelValue":u=>t[l]=u},null),[[m,t[l]]]),e("span",null,[_[l]]),e("button",{class:g.displayButton,onClick:u=>{B(u,F,n)},ref:F},["<"]),s(e("ul",null,[e("li",null,[s(e("input",{type:"checkbox","onUpdate:modelValue":u=>t.verbSimplePastNegativeForm=u},null),[[m,t.verbSimplePastNegativeForm]]),e("span",null,[_.verbSimplePastNegativeForm])])]),[[C,n.value]])]):["verbPolitePastForm","verbPoliteNegativeForm","verbPolitePastNegativeForm","verbSimplePastNegativeForm"].includes(l)?null:e("li",null,[s(e("input",{type:"checkbox","onUpdate:modelValue":u=>t[l]=u},null),[[m,t[l]]]),e("span",null,[_[l]])]))])])]):null])}}),k=r=>{if(typeof r!="object"||r===null)return r;let d;if(Array.isArray(r)){d=[];for(let a=0;a<r.length;a++)d.push(k(r[a]))}else{d={};for(const a in r)r.hasOwnProperty(a)&&(d[a]=k(r[a]))}return d},H="_optionsForm_16nt0_9",K="_pron_16nt0_20",Q="_relativeBox_16nt0_25",Z="_target_16nt0_29",ee="_targetNum_16nt0_33",y={optionsForm:H,pron:K,relativeBox:Q,target:Z,targetNum:ee},te="_slider_1oz27_1",le="_option_1oz27_15",ue="_slider_bar_1oz27_23",S={slider:te,option:le,slider_bar:ue},ne=x({emits:["option"],props:{options:{type:Array,required:!0},init:{type:String,required:!0}},setup:(r,d)=>{const a=f(r.init),t=f(),v=f(),o=f(),F=n=>{a.value=n};return P(t,n=>{var B;if(!t.value||!v.value||!o.value)return;const{width:p}=t.value.getBoundingClientRect();v.value.style.width=`${p}px`;const{left:h}=o.value.getBoundingClientRect(),{left:E}=(B=t.value)==null?void 0:B.getBoundingClientRect();v.value.style.transform=`translateX(${E-h}px)`,d.emit("option",a.value)}),()=>e("div",{class:S.slider,ref:o},[r.options.map(n=>e("label",{class:S.option,onClick:()=>{F(n)},ref:a.value===n?t:void 0},[n])),e("div",{class:S.slider_bar,ref:v},null)])}}),se=x({setup:(r,d)=>{const a=W(),t=$(),v=q(),o=T(k(a.config)),{pos:F}=o,n=j(),p=b(()=>F.verb||F.adj),h=f(null),E=c=>{h.value=c},B=f(null),l=c=>{B.value=c},u=b(()=>!(p.value===!1||F.verb===!0&&h.value===!1||F.adj===!0&&B.value===!1)),V=c=>{c.preventDefault(),a.setConfig(o),t.refreshWord(),n.replace("/")},U=c=>{o.pron=c},L=["平假名","罗马音","无注音"];return()=>e("div",null,[e("h2",null,[i("设置")]),e("form",{class:y.optionsForm},[e("p",{class:y.pron},[i("是否要注音？"),e(ne,{options:L,init:o.pron,onOption:U},null)]),e("p",null,[s(e("input",{type:"checkbox","onUpdate:modelValue":c=>o.voice=c},null),[[m,o.voice]]),i("是否发音？")]),e("p",{class:y.target},[i("每日答题目标（达到目标后会提醒）"),s(e("input",{type:"number","onUpdate:modelValue":c=>o.target=c,class:y.targetNum,min:0},null),[[O,o.target]])]),e("p",null,[s(e("input",{type:"checkbox","onUpdate:modelValue":c=>o.getFormByWeight=c},null),[[m,o.getFormByWeight]]),i("是否根据错误权重出题？"),e(w,{onClick:v.cleanFormWeights},{default:()=>[i("重置错题权重")]})]),e("div",{class:y.relativeBox},[s(e("h4",null,[i("*你至少需要选择一个类别")]),[[C,!p.value]]),e(X,{tempConfig:o,onUpdateVerb:E},null),e(J,{tempConfig:o,onUpdateAdj:l},null)]),e(w,{onClick:V,disabled:u.value},{default:()=>[i("戻る ↩")]})])])}});export{se as SettingPage,se as default};
